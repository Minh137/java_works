$(function(){
      $("#rid").change(function(){
        if($(this).is(":checked")){
            alert("관공서나 공공기관에서는 사용하지마세요.");
        }
      });
      
      const useridFromCookie = getCookie('userid');
      if(userIdFromCookie){
      	$(".userid")
      }


    $('#loginform').validate({
        debug: false, 
        rules: {
            userid: "required",
            userpass: "required"
        },
        messages: {
            userid: "아이디를 입력하세요.",
            userpass: "비밀번호를 입력하세요."
        },
        showErrors: function(errorMap, errorList){
          if(errorList.length){
            if(!this.alreadyAlerted) {
               alert(errorList[0].message); 
               this.alreadyAlerted = true; 
            }
          }else{
            this.alreadyAlerted = false;
          }
        },
        submitHandler: function(form) {
            
            if ($('#rid').is(':checked')) {
                setCookie('userid', $('#userid').val(), 1); 
            }
            form.submit(); 
        }
    });
    
    $('#registerform').validate({
    	rules:{
    		userid:{
    			required: true,
    			minlength: 3,
    			maxlength: 9
    		}
    	},
    	messages:{
    		userid:{
    			required: '필수 입력 항목입니다.'
    		}
    	},
    	submitHandler: function(from){
    	
    	}
    });
});

function setCookie(name, value, exp){
   const date = new Date();
   date.setTime(date.getTime() + exp*24*60*60*1000);
   document.cookie = name + '=' + value + ';expires='+date.toUTCString() + ';path=/';
}

function getCookie(name){
   const value = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');
   return value? value[2]:null;
}

function delCookie(name){
   document.cookie = name + '=; expires=Thu, 01 Jan 1999 00:00:10 GMT;';
}